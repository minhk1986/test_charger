{"remainingRequest":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/babel-loader/lib/index.js!/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/src/components/AgvrTasksOnMap/AgvrTasksOnMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/src/components/AgvrTasksOnMap/AgvrTasksOnMap.vue","mtime":1609316939484},{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1609316939616},{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/babel-loader/lib/index.js","mtime":1609316939572},{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1609316939616},{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/vue-loader/lib/index.js","mtime":1609316942712}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3JvYm90aWNzL1R1bmdOVi9hZ3ZfdjJfd3Mvc3JjL2Fndl92Mi93ZWJTZXJ2ZXIvYWd2LWRhc2JvYXJkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICJ2dWV4IjsKCnZhciBfY3JlYXRlTmFtZXNwYWNlZEhlbHAgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygiYWd2Sm9icyIpLAogICAgYWd2Sm9ic01hcFN0YXRlID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwLm1hcFN0YXRlOwoKdmFyIF9jcmVhdGVOYW1lc3BhY2VkSGVscDIgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygibmF2aWdhdGlvbiIpLAogICAgbmF2aWdhdGlvbk1hcFN0YXRlID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwMi5tYXBTdGF0ZSwKICAgIG5hdmlnYXRpb25NYXBBY3Rpb25zID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwMi5tYXBBY3Rpb25zOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBZ3ZyVGFza3NPbk1hcCIsCiAgcHJvcHM6IHsKICAgIGpvYklkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG5hdmlnYXRpb25NYXBTdGF0ZSh7CiAgICBuYXZpZ2F0aW9uVGFza0lkOiBmdW5jdGlvbiBuYXZpZ2F0aW9uVGFza0lkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50YXNrSWQ7CiAgICB9LAogICAgc2VsZWN0ZWRJbmRleFRhc2s6IGZ1bmN0aW9uIHNlbGVjdGVkSW5kZXhUYXNrKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zZWxlY3RlZEluZGV4VGFzazsKICAgIH0sCiAgICBpc0NvbnRleHRNZW51U2hvdzogZnVuY3Rpb24gaXNDb250ZXh0TWVudVNob3coc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnRhc2tNZW51Q29udGV4dC5pc1Nob3cgfHwgc3RhdGUuYWd2TWVudUNvbnRleHQuaXNTaG93IHx8IHN0YXRlLmFndkluaXRQb3NlTWVudUNvbnRleHQuaXNTaG93OwogICAgfQogIH0pKSwgYWd2Sm9ic01hcFN0YXRlKHsKICAgIGFndlRhc2tzOiBmdW5jdGlvbiBhZ3ZUYXNrcyhzdGF0ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGpvYiA9IHN0YXRlLmZpbmQoZnVuY3Rpb24gKGopIHsKICAgICAgICByZXR1cm4gai5pZCA9PT0gX3RoaXMuam9iSWQ7CiAgICAgIH0pOwogICAgICByZXR1cm4gam9iICE9IG51bGwgPyBqb2IudGFza3MgOiBbXTsKICAgIH0KICB9KSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBuYXZpZ2F0aW9uTWFwQWN0aW9ucyh7CiAgICBuYXZpZ2F0aW9uU2V0U2VsZWN0ZWRUYXNrSWQ6ICJzZXRTZWxlY3RlZFRhc2tJZCIsCiAgICBuYXZpZ2F0aW9uU2hvd1Rhc2tNZW51Q29udGV4dDogInNob3dUYXNrTWVudUNvbnRleHQiLAogICAgbmF2aWdhdGlvbkRpc2FibGVNYXBQYW5ab29tOiAiZGlzYWJsZU1hcFBhblpvb20iLAogICAgbmF2aWdhdGlvblNlbGVjdGVkVGFza1Bvc2l0aW9uOiAic2VsZWN0ZWRUYXNrUG9zaXRpb24iCiAgfSkpLCB7fSwgewogICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGlkKSB7CiAgICAgIGlmICh0aGlzLmlzQ29udGV4dE1lbnVTaG93KSByZXR1cm47CiAgICAgIHRoaXMubmF2aWdhdGlvbkRpc2FibGVNYXBQYW5ab29tKCk7CiAgICAgIHRoaXMubmF2aWdhdGlvblNlbGVjdGVkVGFza1Bvc2l0aW9uKCk7CiAgICAgIHRoaXMubmF2aWdhdGlvblNldFNlbGVjdGVkVGFza0lkKGlkKTsKICAgIH0sCiAgICBvbkNvbnRleHRNZW51OiBmdW5jdGlvbiBvbkNvbnRleHRNZW51KGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIubmF2aWdhdGlvblNob3dUYXNrTWVudUNvbnRleHQoewogICAgICAgICAgeDogZS5jbGllbnRYLAogICAgICAgICAgeTogZS5jbGllbnRZCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0pCn07"},{"version":3,"sources":["AgvrTasksOnMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,SAAA,uBAAA,QAAA,MAAA;;4BACA,uBAAA,CAAA,SAAA,C;IAAA,e,yBAAA,Q;;6BACA,uBAAA,CAAA,YAAA,C;IAAA,kB,0BAAA,Q;IAAA,oB,0BAAA,U;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GAFA;AAQA,EAAA,QAAA,kCACA,kBAAA,CAAA;AACA,IAAA,gBAAA,EAAA,0BAAA,KAAA;AAAA,aAAA,KAAA,CAAA,MAAA;AAAA,KADA;AAEA,IAAA,iBAAA,EAAA,2BAAA,KAAA;AAAA,aAAA,KAAA,CAAA,iBAAA;AAAA,KAFA;AAGA,IAAA,iBAAA,EAAA,2BAAA,KAAA;AAAA,aAAA,KAAA,CAAA,eAAA,CAAA,MAAA,IAAA,KAAA,CAAA,cAAA,CAAA,MAAA,IAAA,KAAA,CAAA,sBAAA,CAAA,MAAA;AAAA;AAHA,GAAA,CADA,GAMA,eAAA,CAAA;AACA,IAAA,QADA,oBACA,KADA,EACA;AAAA;;AACA,UAAA,GAAA,GAAA,KAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,EAAA,KAAA,KAAA,CAAA,KAAA;AAAA,OAAA,CAAA;AACA,aAAA,GAAA,IAAA,IAAA,GAAA,GAAA,CAAA,KAAA,GAAA,EAAA;AACA;AAJA,GAAA,CANA,CARA;AAqBA,EAAA,OAAA,kCACA,oBAAA,CAAA;AACA,IAAA,2BAAA,EAAA,mBADA;AAEA,IAAA,6BAAA,EAAA,qBAFA;AAGA,IAAA,2BAAA,EAAA,mBAHA;AAIA,IAAA,8BAAA,EAAA;AAJA,GAAA,CADA;AAOA,IAAA,WAPA,uBAOA,EAPA,EAOA;AACA,UAAA,KAAA,iBAAA,EAAA;AACA,WAAA,2BAAA;AACA,WAAA,8BAAA;AACA,WAAA,2BAAA,CAAA,EAAA;AACA,KAZA;AAaA,IAAA,aAbA,yBAaA,CAbA,EAaA;AAAA;;AACA,MAAA,CAAA,CAAA,cAAA;AACA,MAAA,CAAA,CAAA,eAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,6BAAA,CAAA;AACA,UAAA,CAAA,EAAA,CAAA,CAAA,OADA;AAEA,UAAA,CAAA,EAAA,CAAA,CAAA;AAFA,SAAA;AAIA,OALA;AAMA;AAtBA;AArBA,CAAA","sourcesContent":["<template>\n  <g>\n    <circle\n      v-for=\"task in agvTasks\"\n      :key=\"`way-${jobId}-${task.id}`\"\n      :cx=\"task.position.x\"\n      :cy=\"task.position.y\"\n      r=\"12\"\n      stroke-width=\"3\"\n      :fill=\"task.id === navigationTaskId ? 'teal' : 'indigo'\"\n      @mousedown=\"() => onMouseDown(task.id)\"\n      @touchstart=\"() => onMouseDown(task.id)\"\n      @contextmenu=\"onContextMenu\"\n    />\n    <text\n      v-for=\"(task, index) in agvTasks\"\n      :key=\"`way-index-${jobId}-${task.id}`\"\n      :x=\"task.position.x\" \n      :y=\"task.position.y\" \n      text-anchor=\"middle\" \n      fill=\"white\"\n      stroke-width=\"1px\" \n      font-size=\"0.8em\"\n      class=\"agvr-task-index-text\"\n      dy=\"0.4em\" v-text=\"index\" />\n  </g>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapState: agvJobsMapState } = createNamespacedHelpers(\"agvJobs\");\nconst { mapState: navigationMapState, mapActions: navigationMapActions } = createNamespacedHelpers(\"navigation\");\nexport default {\n  name: \"AgvrTasksOnMap\",\n  props: {\n    jobId: {\n      type: String,\n      default: \"\",\n    },\n  },\n  computed: {\n    ...navigationMapState({\n      navigationTaskId: (state) => state.taskId,\n      selectedIndexTask: (state) => state.selectedIndexTask,\n      isContextMenuShow: (state) => state.taskMenuContext.isShow || state.agvMenuContext.isShow || state.agvInitPoseMenuContext.isShow,\n    }),\n    ...agvJobsMapState({\n      agvTasks(state) {\n        let job = state.find((j) => j.id === this.jobId);\n        return job != null ? job.tasks : [];\n      },\n    }),\n  },\n  methods: {\n    ...navigationMapActions({\n      navigationSetSelectedTaskId: \"setSelectedTaskId\",\n      navigationShowTaskMenuContext: \"showTaskMenuContext\",\n      navigationDisableMapPanZoom: \"disableMapPanZoom\",\n      navigationSelectedTaskPosition: \"selectedTaskPosition\",\n    }),\n    onMouseDown(id) {\n      if (this.isContextMenuShow) return;\n      this.navigationDisableMapPanZoom();\n      this.navigationSelectedTaskPosition();\n      this.navigationSetSelectedTaskId(id);\n    },\n    onContextMenu(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.$nextTick(() => {\n        this.navigationShowTaskMenuContext({\n          x: e.clientX,\n          y: e.clientY,\n        });\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.agvr-task-index-text {\n  pointer-events: none;\n}\n</style>"],"sourceRoot":"src/components/AgvrTasksOnMap"}]}