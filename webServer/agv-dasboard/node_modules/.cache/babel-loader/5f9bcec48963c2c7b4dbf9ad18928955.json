{"remainingRequest":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/babel-loader/lib/index.js!/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/src/components/WayAgvToTaskPosition/WayAgvToTaskPosition.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/src/components/WayAgvToTaskPosition/WayAgvToTaskPosition.vue","mtime":1609316939488},{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1609316939616},{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/babel-loader/lib/index.js","mtime":1609316939572},{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1609316939616},{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/vue-loader/lib/index.js","mtime":1609316942712}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3JvYm90aWNzL1R1bmdOVi9hZ3ZfdjJfd3Mvc3JjL2Fndl92Mi93ZWJTZXJ2ZXIvYWd2LWRhc2JvYXJkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICJ2dWV4IjsKCnZhciBfY3JlYXRlTmFtZXNwYWNlZEhlbHAgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygiYWd2cyIpLAogICAgYWd2c01hcFN0YXRlID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwLm1hcFN0YXRlOwoKdmFyIF9jcmVhdGVOYW1lc3BhY2VkSGVscDIgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygiYWd2Sm9icyIpLAogICAgYWd2Sm9ic01hcFN0YXRlID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwMi5tYXBTdGF0ZTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiV2F5QWd2VG9UYXNrUG9zaXRpb24iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwb3NpdGlvblgxOiAwLAogICAgICBwb3NpdGlvblkxOiAwLAogICAgICBwb3NpdGlvblgyOiAwLAogICAgICBwb3NpdGlvblkyOiAwCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGFndklkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGFndnNNYXBTdGF0ZSh7CiAgICBqb2JJZDogZnVuY3Rpb24gam9iSWQoc3RhdGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBhZ3YgPSBzdGF0ZS5maW5kKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgcmV0dXJuIGEuaWQgPT09IF90aGlzLmFndklkOwogICAgICB9KTsKICAgICAgcmV0dXJuIGFndiAhPSBudWxsID8gYWd2LmpvYklkIDogIiI7CiAgICB9LAogICAgdGFza0lkOiBmdW5jdGlvbiB0YXNrSWQoc3RhdGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgYWd2ID0gc3RhdGUuZmluZChmdW5jdGlvbiAoYSkgewogICAgICAgIHJldHVybiBhLmlkID09PSBfdGhpczIuYWd2SWQ7CiAgICAgIH0pOwogICAgICByZXR1cm4gYWd2ICE9IG51bGwgPyBhZ3YudGFza0lkIDogIiI7CiAgICB9LAogICAgc3RhcnRXYXlQb2ludDogZnVuY3Rpb24gc3RhcnRXYXlQb2ludChzdGF0ZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBhZ3YgPSBzdGF0ZS5maW5kKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgcmV0dXJuIGEuaWQgPT09IF90aGlzMy5hZ3ZJZDsKICAgICAgfSk7CiAgICAgIHJldHVybiBhZ3YgIT0gbnVsbCA/IGFndi53ZWJQb3NlLnBvc2l0aW9uIDogewogICAgICAgIHg6IDAsCiAgICAgICAgeTogMCwKICAgICAgICB6OiAwCiAgICAgIH07CiAgICB9CiAgfSkpLCBhZ3ZKb2JzTWFwU3RhdGUoewogICAgZW5kV2F5UG9pbnQ6IGZ1bmN0aW9uIGVuZFdheVBvaW50KHN0YXRlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGpvYiA9IHN0YXRlLmZpbmQoZnVuY3Rpb24gKGopIHsKICAgICAgICByZXR1cm4gai5pZCA9PT0gX3RoaXM0LmpvYklkOwogICAgICB9KTsKICAgICAgaWYgKGpvYiA9PSBudWxsIHx8IGpvYi50YXNrcy5sZW5ndGggPT0gMCkgcmV0dXJuIG51bGw7CiAgICAgIHZhciB0YXNrID0gam9iLnRhc2tzLmZpbmQoZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gdC5pZCA9PT0gX3RoaXM0LnRhc2tJZDsKICAgICAgfSk7CiAgICAgIHJldHVybiB0YXNrICE9IG51bGwgPyB0YXNrLnBvc2l0aW9uIDogam9iLnRhc2tzWzBdLnBvc2l0aW9uOwogICAgfQogIH0pKSwKICB3YXRjaDogewogICAgc3RhcnRXYXlQb2ludDogZnVuY3Rpb24gc3RhcnRXYXlQb2ludCh2YWwpIHsKICAgICAgdmFyIHBvc2l0aW9uID0gewogICAgICAgIHg6IE1hdGguZmxvb3IodmFsLngpLAogICAgICAgIHk6IE1hdGguZmxvb3IodmFsLnkpCiAgICAgIH07CiAgICAgIHRoaXMucG9zaXRpb25YMSA9IHBvc2l0aW9uLng7CiAgICAgIHRoaXMucG9zaXRpb25ZMSA9IHBvc2l0aW9uLnk7CgogICAgICBpZiAodGhpcy5lbmRXYXlQb2ludCA9PSBudWxsKSB7CiAgICAgICAgdGhpcy5wb3NpdGlvblgyID0gcG9zaXRpb24ueDsKICAgICAgICB0aGlzLnBvc2l0aW9uWTIgPSBwb3NpdGlvbi55OwogICAgICB9CiAgICB9LAogICAgZW5kV2F5UG9pbnQ6IGZ1bmN0aW9uIGVuZFdheVBvaW50KHZhbCkgewogICAgICBpZiAodmFsID09IG51bGwpIHsKICAgICAgICB0aGlzLnBvc2l0aW9uWDIgPSBNYXRoLmZsb29yKHRoaXMuc3RhcnRXYXlQb2ludC54KTsKICAgICAgICB0aGlzLnBvc2l0aW9uWTIgPSBNYXRoLmZsb29yKHRoaXMuc3RhcnRXYXlQb2ludC55KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBvc2l0aW9uWDIgPSBNYXRoLmZsb29yKHZhbC54KTsKICAgICAgICB0aGlzLnBvc2l0aW9uWTIgPSBNYXRoLmZsb29yKHZhbC55KTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMucG9zaXRpb25YMSA9IE1hdGguZmxvb3IodGhpcy5zdGFydFdheVBvaW50LngpOwogICAgdGhpcy5wb3NpdGlvblkxID0gTWF0aC5mbG9vcih0aGlzLnN0YXJ0V2F5UG9pbnQueSk7CgogICAgaWYgKHRoaXMuZW5kV2F5UG9pbnQgPT0gbnVsbCkgewogICAgICB0aGlzLnBvc2l0aW9uWDIgPSBNYXRoLmZsb29yKHRoaXMuc3RhcnRXYXlQb2ludC54KTsKICAgICAgdGhpcy5wb3NpdGlvblkyID0gTWF0aC5mbG9vcih0aGlzLnN0YXJ0V2F5UG9pbnQueSk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnBvc2l0aW9uWDIgPSBNYXRoLmZsb29yKHRoaXMuZW5kV2F5UG9pbnQueCk7CiAgICAgIHRoaXMucG9zaXRpb25ZMiA9IE1hdGguZmxvb3IodGhpcy5lbmRXYXlQb2ludC55KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["WayAgvToTaskPosition.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <g>\n    <line\n      :x1=\"positionX1\"\n      :y1=\"positionY1\"\n      :x2=\"positionX2\"\n      :y2=\"positionY2\"\n      stroke-dasharray=\"10,5\"\n      style=\"stroke: red; stroke-width: 5\"\n    />\n  </g>\n</template>\n<script>\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapState: agvsMapState } = createNamespacedHelpers(\"agvs\");\nconst { mapState: agvJobsMapState } = createNamespacedHelpers(\"agvJobs\");\n\nexport default {\n  name: \"WayAgvToTaskPosition\",\n  data() {\n    return {\n      positionX1: 0,\n      positionY1: 0,\n      positionX2: 0,\n      positionY2: 0,\n    };\n  },\n  props: {\n    agvId: {\n      type: String,\n      default: \"\",\n    },\n  },\n  computed: {\n    ...agvsMapState({\n      jobId(state) {\n        let agv = state.find((a) => a.id === this.agvId);\n        return agv != null ? agv.jobId : \"\";\n      },\n      taskId(state) {\n        let agv = state.find((a) => a.id === this.agvId);\n        return agv != null ? agv.taskId : \"\";\n      },\n      startWayPoint(state) {\n        let agv = state.find((a) => a.id === this.agvId);\n        return agv != null ? agv.webPose.position : { x: 0, y: 0, z: 0 };\n      },\n    }),\n    ...agvJobsMapState({\n      endWayPoint(state) {\n        let job = state.find((j) => j.id === this.jobId);\n        if (job == null || job.tasks.length == 0) return null;\n        let task = job.tasks.find((t) => t.id === this.taskId);\n        return task != null ? task.position : job.tasks[0].position;\n      },\n    }),\n  },\n  watch: {\n    startWayPoint(val) {\n      let position = {\n        x: Math.floor(val.x),\n        y: Math.floor(val.y),\n      };\n      this.positionX1 = position.x;\n      this.positionY1 = position.y;\n      if (this.endWayPoint == null) {\n        this.positionX2 = position.x;\n        this.positionY2 = position.y;\n      }\n    },\n    endWayPoint(val) {\n      if (val == null) {\n        this.positionX2 = Math.floor(this.startWayPoint.x);\n        this.positionY2 = Math.floor(this.startWayPoint.y);\n      } else {\n        this.positionX2 = Math.floor(val.x);\n        this.positionY2 = Math.floor(val.y);\n      }\n    },\n  },\n  mounted() {\n    this.positionX1 = Math.floor(this.startWayPoint.x);\n    this.positionY1 = Math.floor(this.startWayPoint.y);\n    if (this.endWayPoint == null) {\n      this.positionX2 = Math.floor(this.startWayPoint.x);\n      this.positionY2 = Math.floor(this.startWayPoint.y);\n    } else {\n      this.positionX2 = Math.floor(this.endWayPoint.x);\n      this.positionY2 = Math.floor(this.endWayPoint.y);\n    }\n  },\n};\n</script>"],"sourceRoot":"src/components/WayAgvToTaskPosition"}]}