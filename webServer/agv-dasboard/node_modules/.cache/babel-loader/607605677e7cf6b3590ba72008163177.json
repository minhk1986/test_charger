{"remainingRequest":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/babel-loader/lib/index.js!/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/src/components/AgvrEndTaskDirection/AgvrEndTaskDirection.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/src/components/AgvrEndTaskDirection/AgvrEndTaskDirection.vue","mtime":1609316939484},{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1609316939616},{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/babel-loader/lib/index.js","mtime":1609316939572},{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1609316939616},{"path":"/home/robotics/TungNV/agv_v2_ws/src/agv_v2/webServer/agv-dasboard/node_modules/vue-loader/lib/index.js","mtime":1609316942712}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3JvYm90aWNzL1R1bmdOVi9hZ3ZfdjJfd3Mvc3JjL2Fndl92Mi93ZWJTZXJ2ZXIvYWd2LWRhc2JvYXJkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICJ2dWV4IjsKCnZhciBfY3JlYXRlTmFtZXNwYWNlZEhlbHAgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygiYWd2Sm9icyIpLAogICAgYWd2Sm9ic01hcFN0YXRlID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwLm1hcFN0YXRlOwoKdmFyIF9jcmVhdGVOYW1lc3BhY2VkSGVscDIgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygibmF2aWdhdGlvbiIpLAogICAgbmF2aWdhdGlvbk1hcFN0YXRlID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwMi5tYXBTdGF0ZSwKICAgIG5hdmlnYXRpb25NYXBBY3Rpb25zID0gX2NyZWF0ZU5hbWVzcGFjZWRIZWxwMi5tYXBBY3Rpb25zOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBZ3ZyRW5kVGFza0RpcmVjdGlvbiIsCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbmF2aWdhdGlvbk1hcFN0YXRlKHsKICAgIG5hdmlnYXRpb25Kb2JJZDogZnVuY3Rpb24gbmF2aWdhdGlvbkpvYklkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5qb2JJZDsKICAgIH0sCiAgICBuYXZpZ2F0aW9uVGFza0lkOiBmdW5jdGlvbiBuYXZpZ2F0aW9uVGFza0lkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50YXNrSWQ7CiAgICB9LAogICAgaXNDb250ZXh0TWVudVNob3c6IGZ1bmN0aW9uIGlzQ29udGV4dE1lbnVTaG93KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50YXNrTWVudUNvbnRleHQuaXNTaG93IHx8IHN0YXRlLmFndk1lbnVDb250ZXh0LmlzU2hvdyB8fCBzdGF0ZS5hZ3ZJbml0UG9zZU1lbnVDb250ZXh0LmlzU2hvdzsKICAgIH0KICB9KSksIGFndkpvYnNNYXBTdGF0ZSh7CiAgICBhZ3ZUYXNrOiBmdW5jdGlvbiBhZ3ZUYXNrKHN0YXRlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgam9iID0gc3RhdGUuZmluZChmdW5jdGlvbiAoaikgewogICAgICAgIHJldHVybiBqLmlkID09PSBfdGhpcy5uYXZpZ2F0aW9uSm9iSWQ7CiAgICAgIH0pOwogICAgICBpZiAoam9iID09IG51bGwgfHwgam9iLnRhc2tzLmxlbmd0aCA9PSAwKSByZXR1cm4gewogICAgICAgIHBvc2l0aW9uOiB7CiAgICAgICAgICB4OiAwLAogICAgICAgICAgeTogMCwKICAgICAgICAgIHo6IDAKICAgICAgICB9LAogICAgICAgIHRoZXRhRW5kOiAwLAogICAgICAgIGhpZGRlbjogdHJ1ZQogICAgICB9OwogICAgICB2YXIgdGFzayA9IGpvYi50YXNrcy5maW5kKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIHQuaWQgPT09IF90aGlzLm5hdmlnYXRpb25UYXNrSWQ7CiAgICAgIH0pOwogICAgICByZXR1cm4gdGFzayAhPSBudWxsID8gdGFzayA6IHsKICAgICAgICBwb3NpdGlvbjogewogICAgICAgICAgeDogMCwKICAgICAgICAgIHk6IDAsCiAgICAgICAgICB6OiAwCiAgICAgICAgfSwKICAgICAgICB0aGV0YUVuZDogMCwKICAgICAgICBoaWRkZW46IHRydWUKICAgICAgfTsKICAgIH0KICB9KSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBuYXZpZ2F0aW9uTWFwQWN0aW9ucyh7CiAgICBuYXZpZ2F0aW9uRGlzYWJsZU1hcFBhblpvb206ICJkaXNhYmxlTWFwUGFuWm9vbSIsCiAgICBuYXZpZ2F0aW9uU2VsZWN0ZWRUYXNrVGhldGFFbmQ6ICJzZWxlY3RlZFRhc2tUaGV0YUVuZCIKICB9KSksIHt9LCB7CiAgICBvbk1vdXNlRG93bjogZnVuY3Rpb24gb25Nb3VzZURvd24oKSB7CiAgICAgIGlmICh0aGlzLmlzQ29udGV4dE1lbnVTaG93KSByZXR1cm47CiAgICAgIHRoaXMubmF2aWdhdGlvbkRpc2FibGVNYXBQYW5ab29tKCk7CiAgICAgIHRoaXMubmF2aWdhdGlvblNlbGVjdGVkVGFza1RoZXRhRW5kKCk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["AgvrEndTaskDirection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,SAAA,uBAAA,QAAA,MAAA;;4BACA,uBAAA,CAAA,SAAA,C;IAAA,e,yBAAA,Q;;6BAIA,uBAAA,CAAA,YAAA,C;IAFA,kB,0BAAA,Q;IACA,oB,0BAAA,U;;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,sBADA;AAEA,EAAA,QAAA,kCACA,kBAAA,CAAA;AACA,IAAA,eAAA,EAAA,yBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,KAAA;AAAA,KADA;AAEA,IAAA,gBAAA,EAAA,0BAAA,KAAA;AAAA,aAAA,KAAA,CAAA,MAAA;AAAA,KAFA;AAGA,IAAA,iBAAA,EAAA,2BAAA,KAAA;AAAA,aACA,KAAA,CAAA,eAAA,CAAA,MAAA,IACA,KAAA,CAAA,cAAA,CAAA,MADA,IAEA,KAAA,CAAA,sBAAA,CAAA,MAHA;AAAA;AAHA,GAAA,CADA,GASA,eAAA,CAAA;AACA,IAAA,OADA,mBACA,KADA,EACA;AAAA;;AACA,UAAA,GAAA,GAAA,KAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,EAAA,KAAA,KAAA,CAAA,eAAA;AAAA,OAAA,CAAA;AACA,UAAA,GAAA,IAAA,IAAA,IAAA,GAAA,CAAA,KAAA,CAAA,MAAA,IAAA,CAAA,EACA,OAAA;AAAA,QAAA,QAAA,EAAA;AAAA,UAAA,CAAA,EAAA,CAAA;AAAA,UAAA,CAAA,EAAA,CAAA;AAAA,UAAA,CAAA,EAAA;AAAA,SAAA;AAAA,QAAA,QAAA,EAAA,CAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA;AAEA,UAAA,IAAA,GAAA,GAAA,CAAA,KAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,EAAA,KAAA,KAAA,CAAA,gBAAA;AAAA,OAAA,CAAA;AACA,aAAA,IAAA,IAAA,IAAA,GAAA,IAAA,GAAA;AAAA,QAAA,QAAA,EAAA;AAAA,UAAA,CAAA,EAAA,CAAA;AAAA,UAAA,CAAA,EAAA,CAAA;AAAA,UAAA,CAAA,EAAA;AAAA,SAAA;AAAA,QAAA,QAAA,EAAA,CAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA;AACA;AARA,GAAA,CATA,CAFA;AAuBA,EAAA,OAAA,kCACA,oBAAA,CAAA;AACA,IAAA,2BAAA,EAAA,mBADA;AAEA,IAAA,8BAAA,EAAA;AAFA,GAAA,CADA;AAKA,IAAA,WALA,yBAKA;AACA,UAAA,KAAA,iBAAA,EAAA;AACA,WAAA,2BAAA;AACA,WAAA,8BAAA;AACA;AATA;AAvBA,CAAA","sourcesContent":["<template>\n  <g :visibility=\"agvTask.hidden ? 'hidden' : 'visible'\">\n    <defs>\n      <marker\n        id=\"arrowhead\"\n        markerWidth=\"3\"\n        markerHeight=\"2\"\n        refX=\"1\"\n        refY=\"1\"\n        orient=\"auto\"\n      >\n        <polygon points=\"0 0, 3 1, 0 2\" style=\"fill: limegreen\" />\n      </marker>\n    </defs>\n    <line\n      :x1=\"agvTask.position.x\"\n      :y1=\"agvTask.position.y\"\n      :x2=\"\n        agvTask.position.x + 50 * Math.cos((agvTask.thetaEnd * Math.PI) / 180)\n      \"\n      :y2=\"\n        agvTask.position.y - 50 * Math.sin((agvTask.thetaEnd * Math.PI) / 180)\n      \"\n      stroke=\"limegreen\"\n      stroke-width=\"10\"\n      marker-end=\"url(#arrowhead)\"\n      @mousedown=\"onMouseDown\"\n      @touchstart=\"onMouseDown\"\n    />\n  </g>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapState: agvJobsMapState } = createNamespacedHelpers(\"agvJobs\");\nconst {\n  mapState: navigationMapState,\n  mapActions: navigationMapActions,\n} = createNamespacedHelpers(\"navigation\");\n\nexport default {\n  name: \"AgvrEndTaskDirection\",\n  computed: {\n    ...navigationMapState({\n      navigationJobId: (state) => state.jobId,\n      navigationTaskId: (state) => state.taskId,\n      isContextMenuShow: (state) =>\n        state.taskMenuContext.isShow ||\n        state.agvMenuContext.isShow ||\n        state.agvInitPoseMenuContext.isShow,\n    }),\n    ...agvJobsMapState({\n      agvTask(state) {\n        let job = state.find((j) => j.id === this.navigationJobId);\n        if (job == null || job.tasks.length == 0)\n          return { position: { x: 0, y: 0, z: 0 }, thetaEnd: 0, hidden: true };\n\n        let task = job.tasks.find((t) => t.id === this.navigationTaskId);\n        return task != null ? task : { position: { x: 0, y: 0, z: 0 }, thetaEnd: 0, hidden: true };\n      },\n    }),\n    \n  },\n  methods: {\n    ...navigationMapActions({\n      navigationDisableMapPanZoom: \"disableMapPanZoom\",\n      navigationSelectedTaskThetaEnd: \"selectedTaskThetaEnd\",\n    }),\n    onMouseDown() {\n      if (this.isContextMenuShow) return;\n      this.navigationDisableMapPanZoom();\n      this.navigationSelectedTaskThetaEnd();\n    },\n  },\n};\n</script>"],"sourceRoot":"src/components/AgvrEndTaskDirection"}]}