{"remainingRequest":"/home/robotics/AnhNV/agv-dasboard/node_modules/thread-loader/dist/cjs.js!/home/robotics/AnhNV/agv-dasboard/node_modules/babel-loader/lib/index.js!/home/robotics/AnhNV/agv-dasboard/node_modules/eslint-loader/index.js??ref--13-0!/home/robotics/AnhNV/agv-dasboard/src/plugins/agvr.js","dependencies":[{"path":"/home/robotics/AnhNV/agv-dasboard/src/plugins/agvr.js","mtime":1609149482820},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1602053610278},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/thread-loader/dist/cjs.js","mtime":1602053610301},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/babel-loader/lib/index.js","mtime":1602053610019},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/eslint-loader/index.js","mtime":1602053618906}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQUdWUiB9IGZyb20gIkAvc2VydmljZXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5zdGFsbDogZnVuY3Rpb24gaW5zdGFsbChWdWUsIG1hcElkKSB7CiAgICBWdWUucHJvdG90eXBlLiRhZ3ZyID0gbmV3IEFHVlIobWFwSWQpOwogICAgdmFyIHN0b3JlID0gVnVlLnByb3RvdHlwZS4kc3RvcmU7CgogICAgZnVuY3Rpb24gdXBkYXRlV2luZG93UmVzaXplKCkgewogICAgICBzdG9yZS5kaXNwYXRjaCgibmF2aWdhdGlvbi9jaGFuZ2VXaW5kb3dTaXplIiwgewogICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCwKICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCAtIDk2CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlc3VtUGFuWm9vbSgpIHsKICAgICAgaWYgKHN0b3JlLnN0YXRlLm5hdmlnYXRpb24udGFza01lbnVDb250ZXh0LmlzU2hvdyB8fCBzdG9yZS5zdGF0ZS5uYXZpZ2F0aW9uLmFndk1lbnVDb250ZXh0LmlzU2hvdyB8fCBzdG9yZS5zdGF0ZS5uYXZpZ2F0aW9uLmFndkluaXRQb3NlTWVudUNvbnRleHQuaXNTaG93KSByZXR1cm47CiAgICAgIHN0b3JlLmRpc3BhdGNoKCJuYXZpZ2F0aW9uL2VuYWJsZU1hcFBhblpvb20iKTsKICAgICAgc3RvcmUuZGlzcGF0Y2goIm5hdmlnYXRpb24vc2VsZWN0ZWROb25lIik7CiAgICB9CgogICAgZnVuY3Rpb24gd2luZG93S2V5ZG93bkhhbmRsZShlKSB7CiAgICAgIHN3aXRjaCAoZS5rZXkpIHsKICAgICAgICBjYXNlICJEZWxldGUiOgogICAgICAgICAgc3RvcmUuZGlzcGF0Y2goImFndkpvYnMvcmVtb3ZlVGFza0Zyb21Kb2IiLCB7CiAgICAgICAgICAgIGpvYklkOiBzdG9yZS5zdGF0ZS5uYXZpZ2F0aW9uLmpvYklkLAogICAgICAgICAgICB0YXNrSWQ6IHN0b3JlLnN0YXRlLm5hdmlnYXRpb24udGFza0lkCiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLCByZXN1bVBhblpvb20pOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIiwgcmVzdW1QYW5ab29tKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgd2luZG93S2V5ZG93bkhhbmRsZSk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdXBkYXRlV2luZG93UmVzaXplKTsKICAgIHVwZGF0ZVdpbmRvd1Jlc2l6ZSgpOwogIH0KfTs="},{"version":3,"sources":["/home/robotics/AnhNV/agv-dasboard/src/plugins/agvr.js"],"names":["AGVR","install","Vue","mapId","prototype","$agvr","store","$store","updateWindowResize","dispatch","width","window","innerWidth","height","innerHeight","resumPanZoom","state","navigation","taskMenuContext","isShow","agvMenuContext","agvInitPoseMenuContext","windowKeydownHandle","e","key","jobId","taskId","addEventListener"],"mappings":"AAAA,SAASA,IAAT,QAAqB,YAArB;AAEA,eAAe;AACbC,EAAAA,OAAO,EAAE,iBAACC,GAAD,EAAMC,KAAN,EAAgB;AAEvBD,IAAAA,GAAG,CAACE,SAAJ,CAAcC,KAAd,GAAsB,IAAIL,IAAJ,CAASG,KAAT,CAAtB;AACA,QAAIG,KAAK,GAAGJ,GAAG,CAACE,SAAJ,CAAcG,MAA1B;;AAEA,aAASC,kBAAT,GAA8B;AAC5BF,MAAAA,KAAK,CAACG,QAAN,CAAe,6BAAf,EAA8C;AAC5CC,QAAAA,KAAK,EAAEC,MAAM,CAACC,UAD8B;AAE5CC,QAAAA,MAAM,EAAEF,MAAM,CAACG,WAAP,GAAqB;AAFe,OAA9C;AAID;;AAED,aAASC,YAAT,GAAwB;AACtB,UAAIT,KAAK,CAACU,KAAN,CAAYC,UAAZ,CAAuBC,eAAvB,CAAuCC,MAAvC,IACFb,KAAK,CAACU,KAAN,CAAYC,UAAZ,CAAuBG,cAAvB,CAAsCD,MADpC,IAEFb,KAAK,CAACU,KAAN,CAAYC,UAAZ,CAAuBI,sBAAvB,CAA8CF,MAFhD,EAEwD;AACxDb,MAAAA,KAAK,CAACG,QAAN,CAAe,6BAAf;AACAH,MAAAA,KAAK,CAACG,QAAN,CAAe,yBAAf;AACD;;AAED,aAASa,mBAAT,CAA6BC,CAA7B,EAAgC;AAC9B,cAAQA,CAAC,CAACC,GAAV;AACE,aAAK,QAAL;AACElB,UAAAA,KAAK,CAACG,QAAN,CAAe,2BAAf,EAA4C;AAC1CgB,YAAAA,KAAK,EAAEnB,KAAK,CAACU,KAAN,CAAYC,UAAZ,CAAuBQ,KADY;AAE1CC,YAAAA,MAAM,EAAEpB,KAAK,CAACU,KAAN,CAAYC,UAAZ,CAAuBS;AAFW,WAA5C;AAIA;AANJ;AAQD;;AAEDf,IAAAA,MAAM,CAACgB,gBAAP,CAAwB,SAAxB,EAAmCZ,YAAnC;AACAJ,IAAAA,MAAM,CAACgB,gBAAP,CAAwB,UAAxB,EAAoCZ,YAApC;AACAJ,IAAAA,MAAM,CAACgB,gBAAP,CAAwB,SAAxB,EAAmCL,mBAAnC;AACAX,IAAAA,MAAM,CAACgB,gBAAP,CAAwB,QAAxB,EAAkCnB,kBAAlC;AAEAA,IAAAA,kBAAkB;AACnB;AAtCY,CAAf","sourcesContent":["import { AGVR } from \"@/services\";\n\nexport default {\n  install: (Vue, mapId) => {\n\n    Vue.prototype.$agvr = new AGVR(mapId);\n    let store = Vue.prototype.$store;\n\n    function updateWindowResize() {\n      store.dispatch(\"navigation/changeWindowSize\", {\n        width: window.innerWidth,\n        height: window.innerHeight - 96,\n      });\n    }\n\n    function resumPanZoom() {\n      if (store.state.navigation.taskMenuContext.isShow ||\n        store.state.navigation.agvMenuContext.isShow ||\n        store.state.navigation.agvInitPoseMenuContext.isShow) return;\n      store.dispatch(\"navigation/enableMapPanZoom\");\n      store.dispatch(\"navigation/selectedNone\");\n    }\n\n    function windowKeydownHandle(e) {\n      switch (e.key) {\n        case \"Delete\":\n          store.dispatch(\"agvJobs/removeTaskFromJob\", {\n            jobId: store.state.navigation.jobId,\n            taskId: store.state.navigation.taskId,\n          });\n          break;\n      }\n    }\n\n    window.addEventListener(\"mouseup\", resumPanZoom);\n    window.addEventListener(\"touchend\", resumPanZoom);\n    window.addEventListener(\"keydown\", windowKeydownHandle);\n    window.addEventListener(\"resize\", updateWindowResize);\n\n    updateWindowResize();\n  }\n}"]}]}