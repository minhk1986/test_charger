{"remainingRequest":"/home/robotics/AnhNV/agv-dasboard/node_modules/thread-loader/dist/cjs.js!/home/robotics/AnhNV/agv-dasboard/node_modules/babel-loader/lib/index.js!/home/robotics/AnhNV/agv-dasboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/robotics/AnhNV/agv-dasboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/robotics/AnhNV/agv-dasboard/src/components/AgvrTasksOnMap/AgvrTasksOnMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/robotics/AnhNV/agv-dasboard/src/components/AgvrTasksOnMap/AgvrTasksOnMap.vue","mtime":1609149481208},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1602053610278},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/thread-loader/dist/cjs.js","mtime":1602053610301},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/babel-loader/lib/index.js","mtime":1602053610019},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1602053610278},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/vue-loader/lib/index.js","mtime":1602053621134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3JvYm90aWNzL0FuaE5WL2Fndi1kYXNib2FyZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzIH0gZnJvbSAidnVleCI7Cgp2YXIgX2NyZWF0ZU5hbWVzcGFjZWRIZWxwID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoImFndkpvYnMiKSwKICAgIGFndkpvYnNNYXBTdGF0ZSA9IF9jcmVhdGVOYW1lc3BhY2VkSGVscC5tYXBTdGF0ZTsKCnZhciBfY3JlYXRlTmFtZXNwYWNlZEhlbHAyID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoIm5hdmlnYXRpb24iKSwKICAgIG5hdmlnYXRpb25NYXBTdGF0ZSA9IF9jcmVhdGVOYW1lc3BhY2VkSGVscDIubWFwU3RhdGUsCiAgICBuYXZpZ2F0aW9uTWFwQWN0aW9ucyA9IF9jcmVhdGVOYW1lc3BhY2VkSGVscDIubWFwQWN0aW9uczsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWd2clRhc2tzT25NYXAiLAogIHByb3BzOiB7CiAgICBqb2JJZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBuYXZpZ2F0aW9uTWFwU3RhdGUoewogICAgbmF2aWdhdGlvblRhc2tJZDogZnVuY3Rpb24gbmF2aWdhdGlvblRhc2tJZChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudGFza0lkOwogICAgfSwKICAgIHNlbGVjdGVkSW5kZXhUYXNrOiBmdW5jdGlvbiBzZWxlY3RlZEluZGV4VGFzayhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc2VsZWN0ZWRJbmRleFRhc2s7CiAgICB9LAogICAgaXNDb250ZXh0TWVudVNob3c6IGZ1bmN0aW9uIGlzQ29udGV4dE1lbnVTaG93KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50YXNrTWVudUNvbnRleHQuaXNTaG93IHx8IHN0YXRlLmFndk1lbnVDb250ZXh0LmlzU2hvdyB8fCBzdGF0ZS5hZ3ZJbml0UG9zZU1lbnVDb250ZXh0LmlzU2hvdzsKICAgIH0KICB9KSksIGFndkpvYnNNYXBTdGF0ZSh7CiAgICBhZ3ZUYXNrczogZnVuY3Rpb24gYWd2VGFza3Moc3RhdGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBqb2IgPSBzdGF0ZS5maW5kKGZ1bmN0aW9uIChqKSB7CiAgICAgICAgcmV0dXJuIGouaWQgPT09IF90aGlzLmpvYklkOwogICAgICB9KTsKICAgICAgcmV0dXJuIGpvYiAhPSBudWxsID8gam9iLnRhc2tzIDogW107CiAgICB9CiAgfSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbmF2aWdhdGlvbk1hcEFjdGlvbnMoewogICAgbmF2aWdhdGlvblNldFNlbGVjdGVkVGFza0lkOiAic2V0U2VsZWN0ZWRUYXNrSWQiLAogICAgbmF2aWdhdGlvblNob3dUYXNrTWVudUNvbnRleHQ6ICJzaG93VGFza01lbnVDb250ZXh0IiwKICAgIG5hdmlnYXRpb25EaXNhYmxlTWFwUGFuWm9vbTogImRpc2FibGVNYXBQYW5ab29tIiwKICAgIG5hdmlnYXRpb25TZWxlY3RlZFRhc2tQb3NpdGlvbjogInNlbGVjdGVkVGFza1Bvc2l0aW9uIgogIH0pKSwge30sIHsKICAgIG9uTW91c2VEb3duOiBmdW5jdGlvbiBvbk1vdXNlRG93bihpZCkgewogICAgICBpZiAodGhpcy5pc0NvbnRleHRNZW51U2hvdykgcmV0dXJuOwogICAgICB0aGlzLm5hdmlnYXRpb25EaXNhYmxlTWFwUGFuWm9vbSgpOwogICAgICB0aGlzLm5hdmlnYXRpb25TZWxlY3RlZFRhc2tQb3NpdGlvbigpOwogICAgICB0aGlzLm5hdmlnYXRpb25TZXRTZWxlY3RlZFRhc2tJZChpZCk7CiAgICB9LAogICAgb25Db250ZXh0TWVudTogZnVuY3Rpb24gb25Db250ZXh0TWVudShlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLm5hdmlnYXRpb25TaG93VGFza01lbnVDb250ZXh0KHsKICAgICAgICAgIHg6IGUuY2xpZW50WCwKICAgICAgICAgIHk6IGUuY2xpZW50WQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["AgvrTasksOnMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,SAAA,uBAAA,QAAA,MAAA;;4BACA,uBAAA,CAAA,SAAA,C;IAAA,e,yBAAA,Q;;6BACA,uBAAA,CAAA,YAAA,C;IAAA,kB,0BAAA,Q;IAAA,oB,0BAAA,U;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GAFA;AAQA,EAAA,QAAA,kCACA,kBAAA,CAAA;AACA,IAAA,gBAAA,EAAA,0BAAA,KAAA;AAAA,aAAA,KAAA,CAAA,MAAA;AAAA,KADA;AAEA,IAAA,iBAAA,EAAA,2BAAA,KAAA;AAAA,aAAA,KAAA,CAAA,iBAAA;AAAA,KAFA;AAGA,IAAA,iBAAA,EAAA,2BAAA,KAAA;AAAA,aAAA,KAAA,CAAA,eAAA,CAAA,MAAA,IAAA,KAAA,CAAA,cAAA,CAAA,MAAA,IAAA,KAAA,CAAA,sBAAA,CAAA,MAAA;AAAA;AAHA,GAAA,CADA,GAMA,eAAA,CAAA;AACA,IAAA,QADA,oBACA,KADA,EACA;AAAA;;AACA,UAAA,GAAA,GAAA,KAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,EAAA,KAAA,KAAA,CAAA,KAAA;AAAA,OAAA,CAAA;AACA,aAAA,GAAA,IAAA,IAAA,GAAA,GAAA,CAAA,KAAA,GAAA,EAAA;AACA;AAJA,GAAA,CANA,CARA;AAqBA,EAAA,OAAA,kCACA,oBAAA,CAAA;AACA,IAAA,2BAAA,EAAA,mBADA;AAEA,IAAA,6BAAA,EAAA,qBAFA;AAGA,IAAA,2BAAA,EAAA,mBAHA;AAIA,IAAA,8BAAA,EAAA;AAJA,GAAA,CADA;AAOA,IAAA,WAPA,uBAOA,EAPA,EAOA;AACA,UAAA,KAAA,iBAAA,EAAA;AACA,WAAA,2BAAA;AACA,WAAA,8BAAA;AACA,WAAA,2BAAA,CAAA,EAAA;AACA,KAZA;AAaA,IAAA,aAbA,yBAaA,CAbA,EAaA;AAAA;;AACA,MAAA,CAAA,CAAA,cAAA;AACA,MAAA,CAAA,CAAA,eAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,6BAAA,CAAA;AACA,UAAA,CAAA,EAAA,CAAA,CAAA,OADA;AAEA,UAAA,CAAA,EAAA,CAAA,CAAA;AAFA,SAAA;AAIA,OALA;AAMA;AAtBA;AArBA,CAAA","sourcesContent":["<template>\n  <g>\n    <circle\n      v-for=\"task in agvTasks\"\n      :key=\"`way-${jobId}-${task.id}`\"\n      :cx=\"task.position.x\"\n      :cy=\"task.position.y\"\n      r=\"12\"\n      stroke-width=\"3\"\n      :fill=\"task.id === navigationTaskId ? 'teal' : 'indigo'\"\n      @mousedown=\"() => onMouseDown(task.id)\"\n      @touchstart=\"() => onMouseDown(task.id)\"\n      @contextmenu=\"onContextMenu\"\n    />\n    <text\n      v-for=\"(task, index) in agvTasks\"\n      :key=\"`way-index-${jobId}-${task.id}`\"\n      :x=\"task.position.x\" \n      :y=\"task.position.y\" \n      text-anchor=\"middle\" \n      fill=\"white\"\n      stroke-width=\"1px\" \n      font-size=\"0.8em\"\n      class=\"agvr-task-index-text\"\n      dy=\"0.4em\" v-text=\"index\" />\n  </g>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapState: agvJobsMapState } = createNamespacedHelpers(\"agvJobs\");\nconst { mapState: navigationMapState, mapActions: navigationMapActions } = createNamespacedHelpers(\"navigation\");\nexport default {\n  name: \"AgvrTasksOnMap\",\n  props: {\n    jobId: {\n      type: String,\n      default: \"\",\n    },\n  },\n  computed: {\n    ...navigationMapState({\n      navigationTaskId: (state) => state.taskId,\n      selectedIndexTask: (state) => state.selectedIndexTask,\n      isContextMenuShow: (state) => state.taskMenuContext.isShow || state.agvMenuContext.isShow || state.agvInitPoseMenuContext.isShow,\n    }),\n    ...agvJobsMapState({\n      agvTasks(state) {\n        let job = state.find((j) => j.id === this.jobId);\n        return job != null ? job.tasks : [];\n      },\n    }),\n  },\n  methods: {\n    ...navigationMapActions({\n      navigationSetSelectedTaskId: \"setSelectedTaskId\",\n      navigationShowTaskMenuContext: \"showTaskMenuContext\",\n      navigationDisableMapPanZoom: \"disableMapPanZoom\",\n      navigationSelectedTaskPosition: \"selectedTaskPosition\",\n    }),\n    onMouseDown(id) {\n      if (this.isContextMenuShow) return;\n      this.navigationDisableMapPanZoom();\n      this.navigationSelectedTaskPosition();\n      this.navigationSetSelectedTaskId(id);\n    },\n    onContextMenu(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.$nextTick(() => {\n        this.navigationShowTaskMenuContext({\n          x: e.clientX,\n          y: e.clientY,\n        });\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.agvr-task-index-text {\n  pointer-events: none;\n}\n</style>"],"sourceRoot":"src/components/AgvrTasksOnMap"}]}