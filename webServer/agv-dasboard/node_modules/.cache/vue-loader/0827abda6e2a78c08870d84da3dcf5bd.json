{"remainingRequest":"/home/robotics/AnhNV/agv-dasboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/robotics/AnhNV/agv-dasboard/src/components/AgvrTasksOnMap/AgvrTasksOnMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/robotics/AnhNV/agv-dasboard/src/components/AgvrTasksOnMap/AgvrTasksOnMap.vue","mtime":1609149481208},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1602053610278},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/babel-loader/lib/index.js","mtime":1602053610019},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1602053610278},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/vue-loader/lib/index.js","mtime":1602053621134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzIH0gZnJvbSAidnVleCI7CmNvbnN0IHsgbWFwU3RhdGU6IGFndkpvYnNNYXBTdGF0ZSB9ID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoImFndkpvYnMiKTsKY29uc3QgeyBtYXBTdGF0ZTogbmF2aWdhdGlvbk1hcFN0YXRlLCBtYXBBY3Rpb25zOiBuYXZpZ2F0aW9uTWFwQWN0aW9ucyB9ID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoIm5hdmlnYXRpb24iKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBZ3ZyVGFza3NPbk1hcCIsCiAgcHJvcHM6IHsKICAgIGpvYklkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIsCiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm5hdmlnYXRpb25NYXBTdGF0ZSh7CiAgICAgIG5hdmlnYXRpb25UYXNrSWQ6IChzdGF0ZSkgPT4gc3RhdGUudGFza0lkLAogICAgICBzZWxlY3RlZEluZGV4VGFzazogKHN0YXRlKSA9PiBzdGF0ZS5zZWxlY3RlZEluZGV4VGFzaywKICAgICAgaXNDb250ZXh0TWVudVNob3c6IChzdGF0ZSkgPT4gc3RhdGUudGFza01lbnVDb250ZXh0LmlzU2hvdyB8fCBzdGF0ZS5hZ3ZNZW51Q29udGV4dC5pc1Nob3cgfHwgc3RhdGUuYWd2SW5pdFBvc2VNZW51Q29udGV4dC5pc1Nob3csCiAgICB9KSwKICAgIC4uLmFndkpvYnNNYXBTdGF0ZSh7CiAgICAgIGFndlRhc2tzKHN0YXRlKSB7CiAgICAgICAgbGV0IGpvYiA9IHN0YXRlLmZpbmQoKGopID0+IGouaWQgPT09IHRoaXMuam9iSWQpOwogICAgICAgIHJldHVybiBqb2IgIT0gbnVsbCA/IGpvYi50YXNrcyA6IFtdOwogICAgICB9LAogICAgfSksCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5uYXZpZ2F0aW9uTWFwQWN0aW9ucyh7CiAgICAgIG5hdmlnYXRpb25TZXRTZWxlY3RlZFRhc2tJZDogInNldFNlbGVjdGVkVGFza0lkIiwKICAgICAgbmF2aWdhdGlvblNob3dUYXNrTWVudUNvbnRleHQ6ICJzaG93VGFza01lbnVDb250ZXh0IiwKICAgICAgbmF2aWdhdGlvbkRpc2FibGVNYXBQYW5ab29tOiAiZGlzYWJsZU1hcFBhblpvb20iLAogICAgICBuYXZpZ2F0aW9uU2VsZWN0ZWRUYXNrUG9zaXRpb246ICJzZWxlY3RlZFRhc2tQb3NpdGlvbiIsCiAgICB9KSwKICAgIG9uTW91c2VEb3duKGlkKSB7CiAgICAgIGlmICh0aGlzLmlzQ29udGV4dE1lbnVTaG93KSByZXR1cm47CiAgICAgIHRoaXMubmF2aWdhdGlvbkRpc2FibGVNYXBQYW5ab29tKCk7CiAgICAgIHRoaXMubmF2aWdhdGlvblNlbGVjdGVkVGFza1Bvc2l0aW9uKCk7CiAgICAgIHRoaXMubmF2aWdhdGlvblNldFNlbGVjdGVkVGFza0lkKGlkKTsKICAgIH0sCiAgICBvbkNvbnRleHRNZW51KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uU2hvd1Rhc2tNZW51Q29udGV4dCh7CiAgICAgICAgICB4OiBlLmNsaWVudFgsCiAgICAgICAgICB5OiBlLmNsaWVudFksCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["AgvrTasksOnMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AgvrTasksOnMap.vue","sourceRoot":"src/components/AgvrTasksOnMap","sourcesContent":["<template>\n  <g>\n    <circle\n      v-for=\"task in agvTasks\"\n      :key=\"`way-${jobId}-${task.id}`\"\n      :cx=\"task.position.x\"\n      :cy=\"task.position.y\"\n      r=\"12\"\n      stroke-width=\"3\"\n      :fill=\"task.id === navigationTaskId ? 'teal' : 'indigo'\"\n      @mousedown=\"() => onMouseDown(task.id)\"\n      @touchstart=\"() => onMouseDown(task.id)\"\n      @contextmenu=\"onContextMenu\"\n    />\n    <text\n      v-for=\"(task, index) in agvTasks\"\n      :key=\"`way-index-${jobId}-${task.id}`\"\n      :x=\"task.position.x\" \n      :y=\"task.position.y\" \n      text-anchor=\"middle\" \n      fill=\"white\"\n      stroke-width=\"1px\" \n      font-size=\"0.8em\"\n      class=\"agvr-task-index-text\"\n      dy=\"0.4em\" v-text=\"index\" />\n  </g>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapState: agvJobsMapState } = createNamespacedHelpers(\"agvJobs\");\nconst { mapState: navigationMapState, mapActions: navigationMapActions } = createNamespacedHelpers(\"navigation\");\nexport default {\n  name: \"AgvrTasksOnMap\",\n  props: {\n    jobId: {\n      type: String,\n      default: \"\",\n    },\n  },\n  computed: {\n    ...navigationMapState({\n      navigationTaskId: (state) => state.taskId,\n      selectedIndexTask: (state) => state.selectedIndexTask,\n      isContextMenuShow: (state) => state.taskMenuContext.isShow || state.agvMenuContext.isShow || state.agvInitPoseMenuContext.isShow,\n    }),\n    ...agvJobsMapState({\n      agvTasks(state) {\n        let job = state.find((j) => j.id === this.jobId);\n        return job != null ? job.tasks : [];\n      },\n    }),\n  },\n  methods: {\n    ...navigationMapActions({\n      navigationSetSelectedTaskId: \"setSelectedTaskId\",\n      navigationShowTaskMenuContext: \"showTaskMenuContext\",\n      navigationDisableMapPanZoom: \"disableMapPanZoom\",\n      navigationSelectedTaskPosition: \"selectedTaskPosition\",\n    }),\n    onMouseDown(id) {\n      if (this.isContextMenuShow) return;\n      this.navigationDisableMapPanZoom();\n      this.navigationSelectedTaskPosition();\n      this.navigationSetSelectedTaskId(id);\n    },\n    onContextMenu(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.$nextTick(() => {\n        this.navigationShowTaskMenuContext({\n          x: e.clientX,\n          y: e.clientY,\n        });\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.agvr-task-index-text {\n  pointer-events: none;\n}\n</style>"]}]}