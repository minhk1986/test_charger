{"remainingRequest":"/home/robotics/AnhNV/agv-dasboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/robotics/AnhNV/agv-dasboard/src/components/AgvrRobotDirection/AgvrRobotDirection.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/robotics/AnhNV/agv-dasboard/src/components/AgvrRobotDirection/AgvrRobotDirection.vue","mtime":1609149481084},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1602053610278},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/thread-loader/dist/cjs.js","mtime":1602053610301},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/babel-loader/lib/index.js","mtime":1602053610019},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1602053610278},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/vue-loader/lib/index.js","mtime":1602053621134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzIH0gZnJvbSAidnVleCI7CmNvbnN0IHsgbWFwU3RhdGU6IGFndnNNYXBTdGF0ZSB9ID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoImFndnMiKTsKY29uc3QgewogIG1hcFN0YXRlOiBuYXZpZ2F0aW9uTWFwU3RhdGUsCiAgbWFwQWN0aW9uczogbmF2aWdhdGlvbk1hcEFjdGlvbiwKfSA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKCJuYXZpZ2F0aW9uIik7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFndnJSb2JvdERpcmVjdGlvbiIsCiAgcHJvcHM6IHsKICAgIGFndklkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIsCiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLmFndnNNYXBTdGF0ZSh7CiAgICAgIGFndldlYlBvc2Uoc3RhdGUpIHsKICAgICAgICBsZXQgYWd2ID0gc3RhdGUuZmluZCgoYSkgPT4gYS5pZCA9PT0gdGhpcy5hZ3ZJZCk7CiAgICAgICAgcmV0dXJuIGFndiAhPSBudWxsCiAgICAgICAgICA/IGFndi53ZWJQb3NlCiAgICAgICAgICA6IHsKICAgICAgICAgICAgICBwb3NpdGlvbjogeyB4OiAwLCB5OiAwLCB6OiAwIH0sCiAgICAgICAgICAgICAgb3JpZW50YXRpb246IHsgeDogMCwgeTogMCwgejogMCB9LAogICAgICAgICAgICB9OwogICAgICB9LAogICAgfSksCiAgICAuLi5uYXZpZ2F0aW9uTWFwU3RhdGUoewogICAgICBpc0NvbnRleHRNZW51U2hvdzogKHN0YXRlKSA9PgogICAgICAgIHN0YXRlLnRhc2tNZW51Q29udGV4dC5pc1Nob3cgfHwKICAgICAgICBzdGF0ZS5hZ3ZNZW51Q29udGV4dC5pc1Nob3cgfHwKICAgICAgICBzdGF0ZS5hZ3ZJbml0UG9zZU1lbnVDb250ZXh0LmlzU2hvdywKICAgIH0pLAogIH0sCiAgbWV0aG9kczogewogICAgLi4ubmF2aWdhdGlvbk1hcEFjdGlvbih7CiAgICAgIG5hdmlnYXRpb25EaXNhYmxlTWFwUGFuWm9vbTogImRpc2FibGVNYXBQYW5ab29tIiwKICAgICAgbmF2aWdhdGlvblNlbGVjdGVkUm9ib3REaXJlY3Rpb246ICJzZWxlY3RlZFJvYm90RGlyZWN0aW9uIiwKICAgIH0pLAogICAgc2VsZWN0ZWRSb2JvdERpcmVjdGlvbigpIHsKICAgICAgaWYgKHRoaXMuaXNDb250ZXh0TWVudVNob3cpIHJldHVybjsKICAgICAgdGhpcy5uYXZpZ2F0aW9uRGlzYWJsZU1hcFBhblpvb20oKTsKICAgICAgdGhpcy5uYXZpZ2F0aW9uU2VsZWN0ZWRSb2JvdERpcmVjdGlvbigpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["AgvrRobotDirection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AgvrRobotDirection.vue","sourceRoot":"src/components/AgvrRobotDirection","sourcesContent":["<template>\n  <g>\n    <defs>\n      <marker\n        id=\"arrowhead\"\n        markerWidth=\"3\"\n        markerHeight=\"2\"\n        refX=\"1\"\n        refY=\"1\"\n        orient=\"auto\"\n      >\n        <polygon points=\"0 0, 3 1, 0 2\" style=\"fill: limegreen\" />\n      </marker>\n    </defs>\n    <line\n      :x1=\"agvWebPose.position.x\"\n      :y1=\"agvWebPose.position.y\"\n      :x2=\"\n        agvWebPose.position.x +\n        100 * Math.cos((agvWebPose.orientation.z * Math.PI) / 180)\n      \"\n      :y2=\"\n        agvWebPose.position.y -\n        100 * Math.sin((agvWebPose.orientation.z * Math.PI) / 180)\n      \"\n      stroke=\"limegreen\"\n      stroke-width=\"10\"\n      marker-end=\"url(#arrowhead)\"\n      @mousedown=\"selectedRobotDirection\"\n      @touchstart=\"selectedRobotDirection\"\n    />\n  </g>\n</template>\n<script>\nimport { createNamespacedHelpers } from \"vuex\";\nconst { mapState: agvsMapState } = createNamespacedHelpers(\"agvs\");\nconst {\n  mapState: navigationMapState,\n  mapActions: navigationMapAction,\n} = createNamespacedHelpers(\"navigation\");\n\nexport default {\n  name: \"AgvrRobotDirection\",\n  props: {\n    agvId: {\n      type: String,\n      default: \"\",\n    },\n  },\n  computed: {\n    ...agvsMapState({\n      agvWebPose(state) {\n        let agv = state.find((a) => a.id === this.agvId);\n        return agv != null\n          ? agv.webPose\n          : {\n              position: { x: 0, y: 0, z: 0 },\n              orientation: { x: 0, y: 0, z: 0 },\n            };\n      },\n    }),\n    ...navigationMapState({\n      isContextMenuShow: (state) =>\n        state.taskMenuContext.isShow ||\n        state.agvMenuContext.isShow ||\n        state.agvInitPoseMenuContext.isShow,\n    }),\n  },\n  methods: {\n    ...navigationMapAction({\n      navigationDisableMapPanZoom: \"disableMapPanZoom\",\n      navigationSelectedRobotDirection: \"selectedRobotDirection\",\n    }),\n    selectedRobotDirection() {\n      if (this.isContextMenuShow) return;\n      this.navigationDisableMapPanZoom();\n      this.navigationSelectedRobotDirection();\n    },\n  },\n};\n</script>"]}]}