{"remainingRequest":"/home/robotics/AnhNV/agv-dasboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/robotics/AnhNV/agv-dasboard/src/components/AgvrMapImage/AgvrMapImage.vue?vue&type=style&index=0&id=008093ef&scoped=true&lang=css&","dependencies":[{"path":"/home/robotics/AnhNV/agv-dasboard/src/components/AgvrMapImage/AgvrMapImage.vue","mtime":1609149480464},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/css-loader/dist/cjs.js","mtime":1602053620867},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1602053621134},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/postcss-loader/src/index.js","mtime":1602053621090},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/cache-loader/dist/cjs.js","mtime":1602053610278},{"path":"/home/robotics/AnhNV/agv-dasboard/node_modules/vue-loader/lib/index.js","mtime":1602053621134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wYW56b29tLW1hcC1pbWFnZSB7CiAgei1pbmRleDogLTE7CiAgcG9zaXRpb246IHJlbGF0aXZlOwp9Cg=="},{"version":3,"sources":["AgvrMapImage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA","file":"AgvrMapImage.vue","sourceRoot":"src/components/AgvrMapImage","sourcesContent":["<template>\n  <foreignObject class=\"panzoom-map-image\" :width=\"width\" :height=\"height\">\n    <canvas ref=\"mapImageRef\" />\n  </foreignObject>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from \"vuex\";\n\nconst { mapState: agvMapsState } = createNamespacedHelpers(\"agvMaps\");\n\nexport default {\n  name: \"AgvrMapImage\",\n  props: {\n    mapId: {\n      type: String,\n      default: \"\",\n    },\n  },\n  data: () => ({\n    mapCanvas: null,\n    width: 0,\n    height: 0,\n  }),\n  computed: {\n    ...agvMapsState({\n      agvMapImage(state) {\n        let agvMap = state.find((m) => m.id === this.mapId);\n        return agvMap != null ? agvMap.webMap.Image : null;\n      },\n    }),\n  },\n  mounted() {\n    this.mapCanvas = this.$refs.mapImageRef;\n    this.setMapImage();\n  },\n  methods: {\n    setMapImage() {\n      let mapImage = this.agvMapImage;\n      if (mapImage == null) return;\n      this.width = mapImage.width;\n      this.height = mapImage.height;\n      this.mapCanvas.width = mapImage.width;\n      this.mapCanvas.height = mapImage.height;\n      let ctx = this.mapCanvas.getContext(\"2d\");\n      let imageData = ctx.createImageData(mapImage.width, mapImage.height);\n      imageData.data.set(mapImage.data);\n      ctx.putImageData(imageData, 0, 0);\n    },\n  },\n  watch: {\n    agvMapImage() {\n      this.setMapImage();\n    },\n  },\n};\n</script>\n<style scoped>\n.panzoom-map-image {\n  z-index: -1;\n  position: relative;\n}\n</style>"]}]}